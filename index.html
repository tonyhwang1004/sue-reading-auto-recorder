<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¬ JSON2Video AI ë¹„ë””ì˜¤ ìƒì„±ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #ff6b6b 100%);
            --secondary-gradient: linear-gradient(45deg, #4ecdc4, #44a08d);
            --accent-gradient: linear-gradient(45deg, #ff6b6b, #ee5a6f);
            --json-gradient: linear-gradient(45deg, #ff9a56, #ff6b95);
            --text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            --box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            --border-radius: 25px;
            --transition: all 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--primary-gradient);
            background-size: 400% 400%;
            animation: gradientFlow 8s ease infinite;
            min-height: 100vh;
            color: white;
            line-height: 1.6;
            overflow-x: hidden;
        }

        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 0%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px;
            position: relative;
            z-index: 2;
        }

        .hero {
            text-align: center;
            padding: 60px 40px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: var(--border-radius);
            margin-bottom: 60px;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .hero-icon {
            font-size: 5em;
            margin-bottom: 30px;
            animation: iconPulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.6));
        }

        @keyframes iconPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .hero-title {
            font-size: 3.5em;
            font-weight: 900;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: textShimmer 4s ease infinite;
        }

        @keyframes textShimmer {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .hero-description {
            font-size: 1.3em;
            opacity: 0.9;
            margin-top: 20px;
        }

        .section {
            background: rgba(255, 255, 255, 0.15);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--border-radius);
            padding: 50px;
            margin: 40px 0;
            backdrop-filter: blur(15px);
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }

        .section-title {
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
            color: #feca57;
            text-shadow: 0 0 25px rgba(254, 202, 87, 0.6);
            font-weight: 800;
        }

        .input-group {
            margin-bottom: 30px;
        }

        .input-label {
            display: block;
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 10px;
            color: #4ecdc4;
        }

        .input-field {
            width: 100%;
            padding: 20px;
            background: rgba(255, 255, 255, 0.12);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 18px;
            color: white;
            font-size: 1.2em;
            transition: var(--transition);
            backdrop-filter: blur(10px);
            font-family: inherit;
        }

        .input-field:focus {
            outline: none;
            border-color: #4ecdc4;
            box-shadow: 0 0 30px rgba(78, 205, 196, 0.4);
            transform: scale(1.01);
        }

        .input-field::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .textarea-field {
            min-height: 200px;
            resize: vertical;
            font-family: 'Consolas', 'Monaco', monospace;
        }

        .btn {
            padding: 18px 35px;
            margin: 10px;
            border: none;
            border-radius: 15px;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: var(--secondary-gradient);
            color: white;
            box-shadow: 0 8px 25px rgba(78, 205, 196, 0.4);
        }

        .btn-json {
            background: var(--json-gradient);
            color: white;
            box-shadow: 0 8px 25px rgba(255, 154, 86, 0.4);
            font-size: 1.6em;
            padding: 25px 50px;
            animation: jsonPulse 3s ease infinite;
        }

        @keyframes jsonPulse {
            0%, 100% { box-shadow: 0 8px 25px rgba(255, 154, 86, 0.4); }
            50% { box-shadow: 0 8px 35px rgba(255, 154, 86, 0.8); }
        }

        .btn-video {
            background: linear-gradient(45deg, #ff0844, #ffb199);
            color: white;
            box-shadow: 0 8px 25px rgba(255, 8, 68, 0.4);
            font-size: 1.5em;
            padding: 25px 50px;
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .json-preview {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid rgba(255, 154, 86, 0.5);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            max-height: 500px;
            overflow-y: auto;
            position: relative;
        }

        .json-preview::-webkit-scrollbar {
            width: 8px;
        }

        .json-preview::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .json-preview::-webkit-scrollbar-thumb {
            background: rgba(255, 154, 86, 0.6);
            border-radius: 10px;
        }

        .json-preview pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #feca57;
            line-height: 1.4;
        }

        .copy-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 154, 86, 0.8);
            border: none;
            border-radius: 8px;
            padding: 8px 15px;
            color: white;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            background: rgba(255, 154, 86, 1);
            transform: scale(1.05);
        }

        .json2video-info {
            background: rgba(255, 154, 86, 0.1);
            border: 2px solid rgba(255, 154, 86, 0.4);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
        }

        .json2video-info h4 {
            color: #ff9a56;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .json2video-info ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        .json2video-info li {
            margin-bottom: 8px;
        }

        .video-settings {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .setting-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .setting-card:hover {
            border-color: #4ecdc4;
            transform: translateY(-3px);
        }

        .setting-card h4 {
            color: #feca57;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .setting-card input, .setting-card select {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            color: white;
            font-size: 1em;
            font-family: inherit;
        }

        .setting-card input:focus, .setting-card select:focus {
            outline: none;
            border-color: #4ecdc4;
            box-shadow: 0 0 10px rgba(78, 205, 196, 0.3);
        }

        .progress-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            backdrop-filter: blur(10px);
        }

        .progress-modal.show {
            display: flex;
        }

        .progress-content {
            background: rgba(255, 255, 255, 0.15);
            border: 3px solid rgba(255, 255, 255, 0.4);
            border-radius: 30px;
            padding: 60px;
            text-align: center;
            backdrop-filter: blur(25px);
            max-width: 600px;
            width: 90%;
        }

        .progress-icon {
            font-size: 5em;
            margin-bottom: 30px;
            animation: progressRotate 2s linear infinite;
        }

        @keyframes progressRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .progress-title {
            font-size: 2em;
            font-weight: 700;
            margin-bottom: 20px;
            color: #4ecdc4;
        }

        .progress-bar {
            width: 100%;
            height: 15px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ecdc4, #feca57);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .slides-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .slide-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .slide-card:hover {
            transform: translateY(-5px);
            border-color: #4ecdc4;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .slide-card h4 {
            color: #feca57;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .slide-card .slide-icon {
            font-size: 2.5em;
            text-align: center;
            margin: 15px 0;
        }

        .slide-card .slide-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: white;
        }

        .slide-card .slide-subtitle {
            font-size: 0.9em;
            opacity: 0.8;
            margin-bottom: 10px;
        }

        .slide-card .slide-meta {
            font-size: 0.8em;
            opacity: 0.6;
            background: rgba(0, 0, 0, 0.3);
            padding: 8px;
            border-radius: 8px;
        }

        .api-status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            display: none;
        }

        .api-status.success {
            background: rgba(0, 255, 100, 0.2);
            border: 2px solid rgba(0, 255, 100, 0.5);
            color: #00ff88;
        }

        .api-status.error {
            background: rgba(255, 107, 107, 0.2);
            border: 2px solid rgba(255, 107, 107, 0.5);
            color: #ff6b6b;
        }

        .download-section {
            text-align: center;
            padding: 40px;
            background: rgba(0, 255, 100, 0.1);
            border: 3px solid rgba(0, 255, 100, 0.3);
            border-radius: 25px;
            margin: 40px 0;
            display: none;
        }

        .download-section h3 {
            color: #00ff88;
            font-size: 2em;
            margin-bottom: 25px;
        }

        .download-btn {
            background: linear-gradient(45deg, #00ff88, #00b894);
            font-size: 1.6em;
            padding: 25px 50px;
            border-radius: 20px;
            margin: 10px;
            animation: downloadPulse 2s ease infinite;
            text-decoration: none;
            display: inline-block;
            color: white;
        }

        @keyframes downloadPulse {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 136, 0.4); }
            50% { box-shadow: 0 0 40px rgba(0, 255, 136, 0.8); }
        }

        .feature-highlight {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.4);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        .feature-highlight h4 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        @media (max-width: 768px) {
            .hero-title { font-size: 2.5em; }
            .section { padding: 30px 20px; }
            .video-settings { grid-template-columns: 1fr; }
            .btn { width: 100%; max-width: 300px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <div class="hero-icon">ğŸ¬</div>
            <h1 class="hero-title">JSON2Video AI ìƒì„±ê¸°</h1>
            <p class="hero-description">
                GPT-4ê°€ ì½˜í…ì¸ ë¥¼ ë¶„ì„í•´ì„œ JSON2Video í˜•ì‹ìœ¼ë¡œ ìë™ ë³€í™˜<br>
                ì™„ì „íˆ ìƒˆë¡œìš´ ìŠ¬ë¼ì´ë“œë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ì—¬ ë¹„ë””ì˜¤ë¡œ ì œì‘
            </p>
        </div>

        <!-- API ì„¤ì • ì„¹ì…˜ -->
        <div class="section">
            <h2 class="section-title">ğŸ”‘ OpenAI API ì„¤ì •</h2>
            <div class="input-group">
                <label class="input-label">OpenAI API í‚¤</label>
                <input type="password" class="input-field" id="apiInput" 
                       placeholder="sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">
            </div>
            <div style="text-align: center;">
                <button class="btn btn-primary" onclick="setupApiKey()">API í‚¤ ì„¤ì •</button>
            </div>
            <div id="apiStatus" class="api-status"></div>
        </div>

        <!-- ì½˜í…ì¸  ì…ë ¥ ì„¹ì…˜ -->
        <div class="section">
            <h2 class="section-title">ğŸ“ ì½˜í…ì¸  ì…ë ¥</h2>
            <div class="input-group">
                <label class="input-label">ì£¼ì œ/ì œëª©</label>
                <input type="text" class="input-field" id="topicInput" 
                       placeholder="ì˜ˆ: ì¹œí™˜ê²½ ê¸°ì—…ì˜ ë¯¸ë˜ ì „ëµ">
            </div>
            <div class="input-group">
                <label class="input-label">ìƒì„¸ ë‚´ìš© ë° ìš”êµ¬ì‚¬í•­</label>
                <textarea class="input-field textarea-field" id="contentInput" 
                          placeholder="ì˜ˆì‹œ:
ì¹œí™˜ê²½ ê¸°ì—… ì „ëµì— ëŒ€í•œ í”„ë ˆì  í…Œì´ì…˜ì„ ë§Œë“¤ì–´ì£¼ì„¸ìš”.

í¬í•¨í•  ë‚´ìš©:
- ESG ê²½ì˜ì˜ ì¤‘ìš”ì„±
- íƒ„ì†Œì¤‘ë¦½ ì‹¤í˜„ ë°©ì•ˆ
- ì¬ìƒì—ë„ˆì§€ í™œìš© ì „ëµ
- ìˆœí™˜ê²½ì œ ëª¨ë¸ ë„ì…
- ê·¸ë¦°í…Œí¬ íˆ¬ì ê³„íš
- ì§€ì†ê°€ëŠ¥í•œ ì„±ì¥ ëª©í‘œ

ëŒ€ìƒ: ê²½ì˜ì§„ ë° íˆ¬ìì
í†¤ì•¤ë§¤ë„ˆ: ì „ë¬¸ì ì´ê³  ì‹ ë¢°ê° ìˆëŠ” ìŠ¤íƒ€ì¼
ìŠ¬ë¼ì´ë“œ ìˆ˜: 8-12ê°œ ì •ë„
ê° ìŠ¬ë¼ì´ë“œë§ˆë‹¤ ì ì ˆí•œ ì•„ì´ì½˜ê³¼ ìƒ‰ìƒ í…Œë§ˆ í¬í•¨"></textarea>
            </div>
        </div>

        <!-- ë¹„ë””ì˜¤ ì„¤ì • -->
        <div class="section">
            <h2 class="section-title">âš™ï¸ ë¹„ë””ì˜¤ ìƒì„± ì„¤ì •</h2>
            <div class="video-settings">
                <div class="setting-card">
                    <h4>ğŸ“Š ìŠ¬ë¼ì´ë“œ ê°œìˆ˜</h4>
                    <select id="slideCountSelect">
                        <option value="auto" selected>ìë™ ê²°ì • (GPT ë¶„ì„)</option>
                        <option value="5">5ê°œ (ê°„ë‹¨)</option>
                        <option value="8">8ê°œ (í‘œì¤€)</option>
                        <option value="12">12ê°œ (ìƒì„¸)</option>
                        <option value="15">15ê°œ (ì™„ì „)</option>
                    </select>
                </div>
                <div class="setting-card">
                    <h4>â±ï¸ ìŠ¬ë¼ì´ë“œ ì§€ì†ì‹œê°„</h4>
                    <input type="number" id="durationInput" value="3" min="2" max="10" step="0.5">
                    <small style="opacity: 0.7;">ì´ˆ ë‹¨ìœ„</small>
                </div>
                <div class="setting-card">
                    <h4>ğŸ¨ ë¹„ë””ì˜¤ í•´ìƒë„</h4>
                    <select id="resolutionSelect">
                        <option value="1080x1920" selected>1080Ã—1920 (9:16 ì„¸ë¡œ)</option>
                        <option value="1920x1080">1920Ã—1080 (16:9 ê°€ë¡œ)</option>
                        <option value="1080x1080">1080Ã—1080 (1:1 ì •ì‚¬ê°)</option>
                    </select>
                </div>
                <div class="setting-card">
                    <h4>ğŸµ íŠ¸ëœì§€ì…˜ íš¨ê³¼</h4>
                    <select id="transitionSelect">
                        <option value="fade" selected>í˜ì´ë“œ</option>
                        <option value="slideLeft">ì¢Œì¸¡ ìŠ¬ë¼ì´ë“œ</option>
                        <option value="slideUp">ìƒë‹¨ ìŠ¬ë¼ì´ë“œ</option>
                        <option value="zoom">ì¤Œ ì¸/ì•„ì›ƒ</option>
                        <option value="wipe">ì™€ì´í”„</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- JSON2Video ì •ë³´ -->
        <div class="json2video-info">
            <h4>ğŸ¯ JSON2Videoë€?</h4>
            <ul>
                <li><strong>JSON ê¸°ë°˜ ë¹„ë””ì˜¤ ìƒì„±:</strong> êµ¬ì¡°í™”ëœ JSON ë°ì´í„°ë¡œ ë¹„ë””ì˜¤ë¥¼ ìë™ ìƒì„±</li>
                <li><strong>í”„ë¡œê·¸ë˜ë° ë°©ì‹:</strong> ì½”ë“œë¡œ ë¹„ë””ì˜¤ ìš”ì†Œë“¤ì„ ì •í™•í•˜ê²Œ ì œì–´</li>
                <li><strong>í…œí”Œë¦¿ ì‹œìŠ¤í…œ:</strong> ì¼ê´€ëœ ë””ìì¸ê³¼ ì• ë‹ˆë©”ì´ì…˜ ì ìš©</li>
                <li><strong>ë‹¤ì–‘í•œ í¬ë§· ì§€ì›:</strong> MP4, WebM, GIF ë“± ë‹¤ì–‘í•œ ì¶œë ¥ í˜•ì‹</li>
                <li><strong>API í†µí•©:</strong> ìë™í™”ëœ ë¹„ë””ì˜¤ ìƒì„± ì›Œí¬í”Œë¡œìš° êµ¬ì¶•</li>
            </ul>
        </div>

        <!-- JSON ìƒì„± ë²„íŠ¼ -->
        <div style="text-align: center; margin: 40px 0;">
            <button class="btn btn-json" id="generateJsonBtn" onclick="generateJSON2VideoFormat()" disabled>
                ğŸš€ GPTë¡œ JSON2Video ìƒì„±
            </button>
        </div>

        <!-- ìŠ¬ë¼ì´ë“œ ë¯¸ë¦¬ë³´ê¸° -->
        <div class="section" id="slidesPreviewSection" style="display: none;">
            <h2 class="section-title">ğŸ“± ìƒì„±ëœ ìŠ¬ë¼ì´ë“œ ë¯¸ë¦¬ë³´ê¸°</h2>
            <div id="slidesPreview" class="slides-preview"></div>
        </div>

        <!-- JSON ì½”ë“œ ë¯¸ë¦¬ë³´ê¸° -->
        <div class="section" id="jsonPreviewSection" style="display: none;">
            <h2 class="section-title">ğŸ“‹ JSON2Video ì½”ë“œ</h2>
            <div class="feature-highlight">
                <h4>âœ¨ ìƒì„±ëœ íŠ¹ì§•</h4>
                <p id="jsonFeatures">GPT-4ê°€ ë¶„ì„í•œ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ JSON2Video í˜•ì‹ìœ¼ë¡œ ë³€í™˜ë©ë‹ˆë‹¤.</p>
            </div>
            <div class="json-preview" id="jsonPreview">
                <button class="copy-btn" onclick="copyToClipboard()">ğŸ“‹ ë³µì‚¬</button>
                <pre id="jsonCode"></pre>
            </div>
            <div style="text-align: center; margin: 30px 0;">
                <button class="btn btn-video" onclick="generateVideoFromJSON()">
                    ğŸ¬ JSON2Videoë¡œ ë¹„ë””ì˜¤ ìƒì„±
                </button>
                <button class="btn btn-primary" onclick="downloadJSON()">
                    ğŸ’¾ JSON íŒŒì¼ ë‹¤ìš´ë¡œë“œ
                </button>
            </div>
        </div>

        <!-- ë‹¤ìš´ë¡œë“œ ì„¹ì…˜ -->
        <div class="download-section" id="downloadSection">
            <h3>ğŸ‰ JSON2Video ì½”ë“œ ìƒì„± ì™„ë£Œ!</h3>
            <p style="margin-bottom: 25px; font-size: 1.2em; opacity: 0.9;">
                ì•„ë˜ ì½”ë“œë¥¼ JSON2Video í”Œë«í¼ì—ì„œ ì‚¬ìš©í•˜ì—¬ ê³ í’ˆì§ˆ ë¹„ë””ì˜¤ë¥¼ ìƒì„±í•˜ì„¸ìš”.
            </p>
            <a href="https://json2video.com" target="_blank" class="download-btn">
                ğŸŒ JSON2Video í”Œë«í¼ ë°”ë¡œê°€ê¸°
            </a>
            <p style="margin-top: 20px; opacity: 0.7;">
                JSON2Video í”Œë«í¼ì—ì„œ ìœ„ì˜ JSON ì½”ë“œë¥¼ ë¶™ì—¬ë„£ê³  ë Œë”ë§í•˜ì„¸ìš”.
            </p>
        </div>
    </div>

    <!-- í”„ë¡œê·¸ë˜ìŠ¤ ëª¨ë‹¬ -->
    <div class="progress-modal" id="progressModal">
        <div class="progress-content">
            <div class="progress-icon" id="progressIcon">ğŸ¤–</div>
            <h3 class="progress-title" id="progressTitle">GPT-4 ë¶„ì„ ì¤‘...</h3>
            <p id="progressDesc">ì½˜í…ì¸ ë¥¼ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ìŠ¬ë¼ì´ë“œ êµ¬ì¡°ë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div id="progressText">0%</div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let apiKey = '';
        let generatedSlides = [];
        let generatedJSON = null;
        let isGenerating = false;

        // DOM ë¡œë“œ ì™„ë£Œ í›„ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            updateGenerateButton();
        });

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        function setupEventListeners() {
            const topicInput = document.getElementById('topicInput');
            const contentInput = document.getElementById('contentInput');
            const apiInput = document.getElementById('apiInput');

            topicInput?.addEventListener('input', updateGenerateButton);
            contentInput?.addEventListener('input', updateGenerateButton);
            
            apiInput?.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    setupApiKey();
                }
            });
        }

        // API í‚¤ ì„¤ì •
        async function setupApiKey() {
            const input = document.getElementById('apiInput');
            const status = document.getElementById('apiStatus');
            
            if (!input || !status) return;
            
            const key = input.value.trim();
            
            if (!key) {
                showApiStatus('âŒ API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                return;
            }
            
            if (!key.startsWith('sk-') || key.length < 40) {
                showApiStatus('âŒ ì˜¬ë°”ë¥¸ OpenAI API í‚¤ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.', 'error');
                return;
            }
            
            try {
                const isValid = await testApiKey(key);
                if (isValid) {
                    apiKey = key;
                    showApiStatus('âœ… API í‚¤ê°€ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                    updateGenerateButton();
                } else {
                    showApiStatus('âŒ API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'error');
                }
            } catch (error) {
                console.error('API í‚¤ í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜:', error);
                apiKey = key; // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì €ì¥
                showApiStatus('âš ï¸ API í‚¤ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤. (ê²€ì¦ ì‹¤íŒ¨)', 'error');
                updateGenerateButton();
            }
        }

        // API í‚¤ í…ŒìŠ¤íŠ¸
        async function testApiKey(key) {
            try {
                const response = await fetch('https://api.openai.com/v1/models', {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${key}`,
                        'Content-Type': 'application/json'
                    }
                });
                return response.ok;
            } catch (error) {
                console.error('API í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜:', error);
                return false;
            }
        }

        // API ìƒíƒœ ë©”ì‹œì§€ í‘œì‹œ
        function showApiStatus(message, type) {
            const status = document.getElementById('apiStatus');
            if (status) {
                status.textContent = message;
                status.className = `api-status ${type}`;
                status.style.display = 'block';
                
                setTimeout(() => {
                    status.style.display = 'none';
                }, 5000);
            }
        }

        // ìƒì„± ë²„íŠ¼ ì—…ë°ì´íŠ¸
        function updateGenerateButton() {
            const topicInput = document.getElementById('topicInput');
            const contentInput = document.getElementById('contentInput');
            const generateBtn = document.getElementById('generateJsonBtn');
            
            if (!topicInput || !contentInput || !generateBtn) return;
            
            const topic = topicInput.value.trim();
            const content = contentInput.value.trim();
            
            generateBtn.disabled = !(apiKey && topic && content);
        }

        // JSON2Video í˜•ì‹ ìƒì„±
        async function generateJSON2VideoFormat() {
            if (isGenerating) return;
            
            const topicInput = document.getElementById('topicInput');
            const contentInput = document.getElementById('contentInput');
            
            if (!topicInput || !contentInput) return;
            
            const topic = topicInput.value.trim();
            const content = contentInput.value.trim();
            
            if (!apiKey || !topic || !content) {
                alert('âŒ API í‚¤, ì£¼ì œ, ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            isGenerating = true;
            showProgressModal(true);
            
            try {
                // 1ë‹¨ê³„: GPTë¡œ ìŠ¬ë¼ì´ë“œ êµ¬ì¡° ë¶„ì„
                updateProgress(20, 'ğŸ§  GPT-4 ë¶„ì„', 'GPT-4ê°€ ì½˜í…ì¸ ë¥¼ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ìŠ¬ë¼ì´ë“œ êµ¬ì¡°ë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤.');
                const slides = await generateSlidesWithGPT(topic, content);
                
                if (!slides || slides.length === 0) {
                    throw new Error('ìŠ¬ë¼ì´ë“œ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }
                
                generatedSlides = slides;
                
                // 2ë‹¨ê³„: ìŠ¬ë¼ì´ë“œ ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
                updateProgress(60, 'ğŸ“± ë¯¸ë¦¬ë³´ê¸° ìƒì„±', 'ìƒì„±ëœ ìŠ¬ë¼ì´ë“œ ë‚´ìš©ì„ ë¯¸ë¦¬ë³´ê¸°ë¡œ êµ¬ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤.');
                displaySlidesPreview(slides);
                
                // 3ë‹¨ê³„: JSON2Video í˜•ì‹ìœ¼ë¡œ ë³€í™˜
                updateProgress(80, 'ğŸ“‹ JSON ë³€í™˜', 'JSON2Video í”Œë«í¼ í˜¸í™˜ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.');
                const json2videoData = convertToJSON2Video(slides);
                generatedJSON = json2videoData;
                
                // 4ë‹¨ê³„: JSON ì½”ë“œ í‘œì‹œ
                updateProgress(95, 'âœ¨ ìµœì¢… ì™„ì„±', 'JSON2Video ì½”ë“œë¥¼ ìµœì¢… ì™„ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤.');
                displayJSONPreview(json2videoData);
                
                updateProgress(100, 'ğŸ‰ ì™„ì„±!', 'JSON2Video ì½”ë“œê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
                await delay(1000);
                
                showProgressModal(false);
                showDownloadSection();
                
            } catch (error) {
                console.error('JSON2Video ìƒì„± ì˜¤ë¥˜:', error);
                showProgressModal(false);
                alert('âŒ JSON2Video ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message);
            } finally {
                isGenerating = false;
            }
        }

        // GPTë¡œ ìŠ¬ë¼ì´ë“œ ìƒì„±
        async function generateSlidesWithGPT(topic, content) {
            const slideCount = document.getElementById('slideCountSelect').value;
            const duration = document.getElementById('durationInput').value;
            
            const prompt = `ë‹¤ìŒ ì£¼ì œì™€ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ í”„ë ˆì  í…Œì´ì…˜ ìŠ¬ë¼ì´ë“œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”:

ì£¼ì œ: ${topic}

ë‚´ìš©:
${content}

ìš”êµ¬ì‚¬í•­:
- ìŠ¬ë¼ì´ë“œ ê°œìˆ˜: ${slideCount === 'auto' ? 'ë‚´ìš©ì— ë”°ë¼ ì ì ˆíˆ ê²°ì • (8-12ê°œ ê¶Œì¥)' : slideCount + 'ê°œ'}
- ê° ìŠ¬ë¼ì´ë“œë§ˆë‹¤ ì ì ˆí•œ ì•„ì´ì½˜(ì´ëª¨ì§€) í¬í•¨
- ì œëª©ê³¼ ë¶€ì œëª©ìœ¼ë¡œ êµ¬ì„±
- ë…¼ë¦¬ì  ìˆœì„œë¡œ ë°°ì—´
- ì „ë¬¸ì ì´ê³  ëª…í™•í•œ ë‚´ìš©

ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì •í™•íˆ ì‘ë‹µí•´ì£¼ì„¸ìš”:
{
  "slides": [
    {
      "id": 1,
      "icon": "ğŸ¯",
      "title": "ì œëª©",
      "subtitle": "ë¶€ì œëª©",
      "type": "intro",
      "backgroundColor": "#667eea",
      "textColor": "#ffffff"
    }
  ]
}

typeì€ ë‹¤ìŒ ì¤‘ í•˜ë‚˜: intro, content, highlight, conclusion
backgroundColorëŠ” ê° ìŠ¬ë¼ì´ë“œì— ì–´ìš¸ë¦¬ëŠ” ìƒ‰ìƒ ì½”ë“œë¡œ ì§€ì •í•´ì£¼ì„¸ìš”.`;

            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: "gpt-4",
                        messages: [
                            {
                                role: "system",
                                content: "ë‹¹ì‹ ì€ ì „ë¬¸ì ì¸ í”„ë ˆì  í…Œì´ì…˜ ì œì‘ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì£¼ì–´ì§„ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ êµ¬ì¡°ì ì´ê³  ë…¼ë¦¬ì ì¸ ìŠ¬ë¼ì´ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë°˜ë“œì‹œ ìœ íš¨í•œ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•˜ì„¸ìš”."
                            },
                            {
                                role: "user",
                                content: prompt
                            }
                        ],
                        temperature: 0.7,
                        max_tokens: 2000
                    })
                });

                if (!response.ok) {
                    throw new Error(`GPT API ì˜¤ë¥˜: ${response.status}`);
                }

                const data = await response.json();
                const content = data.choices[0]?.message?.content;
                
                if (!content) {
                    throw new Error('GPT ì‘ë‹µì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.');
                }

                // JSON íŒŒì‹±
                try {
                    const jsonMatch = content.match(/\{[\s\S]*\}/);
                    if (!jsonMatch) {
                        throw new Error('JSON í˜•ì‹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    }
                    
                    const parsed = JSON.parse(jsonMatch[0]);
                    return parsed.slides || [];
                } catch (parseError) {
                    console.error('JSON íŒŒì‹± ì˜¤ë¥˜:', parseError);
                    console.log('GPT ì›ë³¸ ì‘ë‹µ:', content);
                    throw new Error('JSON íŒŒì‹±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }

            } catch (error) {
                console.error('GPT ìŠ¬ë¼ì´ë“œ ìƒì„± ì˜¤ë¥˜:', error);
                throw error;
            }
        }

        // ìŠ¬ë¼ì´ë“œ ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
        function displaySlidesPreview(slides) {
            const section = document.getElementById('slidesPreviewSection');
            const preview = document.getElementById('slidesPreview');
            
            if (!section || !preview) return;
            
            preview.innerHTML = '';
            
            slides.forEach((slide, index) => {
                const card = document.createElement('div');
                card.className = 'slide-card';
                card.style.borderLeft = `4px solid ${slide.backgroundColor || '#4ecdc4'}`;
                
                card.innerHTML = `
                    <h4>ìŠ¬ë¼ì´ë“œ ${index + 1}</h4>
                    <div class="slide-icon">${slide.icon || 'ğŸ“„'}</div>
                    <div class="slide-title">${slide.title}</div>
                    <div class="slide-subtitle">${slide.subtitle}</div>
                    <div class="slide-meta">
                        íƒ€ì…: ${slide.type || 'content'}<br>
                        ë°°ê²½ìƒ‰: ${slide.backgroundColor || '#4ecdc4'}
                    </div>
                `;
                
                preview.appendChild(card);
            });
            
            section.style.display = 'block';
            section.scrollIntoView({ behavior: 'smooth' });
        }

        // JSON2Video í˜•ì‹ìœ¼ë¡œ ë³€í™˜
        function convertToJSON2Video(slides) {
            const resolution = document.getElementById('resolutionSelect').value;
            const duration = parseFloat(document.getElementById('durationInput').value);
            const transition = document.getElementById('transitionSelect').value;
            
            const [width, height] = resolution.split('x').map(Number);
            
            const json2videoData = {
                "comment": "Generated by GPT-4 AI Slide Generator",
                "resolution": {
                    "width": width,
                    "height": height
                },
                "quality": "high",
                "draft": false,
                "cache": true,
                "scenes": []
            };

            slides.forEach((slide, index) => {
                const scene = {
                    "comment": `Slide ${index + 1}: ${slide.title}`,
                    "duration": duration,
                    "transition": {
                        "type": transition,
                        "duration": 0.5
                    },
                    "elements": [
                        // ë°°ê²½
                        {
                            "type": "rectangle",
                            "width": "100%",
                            "height": "100%",
                            "color": slide.backgroundColor || "#667eea"
                        },
                        // ì•„ì´ì½˜
                        {
                            "type": "text",
                            "text": slide.icon || "ğŸ“„",
                            "x": "center",
                            "y": height * 0.25,
                            "align": "center",
                            "style": {
                                "font-family": "Arial",
                                "font-size": Math.floor(height * 0.08),
                                "color": slide.textColor || "#ffffff"
                            }
                        },
                        // ì œëª©
                        {
                            "type": "text",
                            "text": slide.title,
                            "x": "center",
                            "y": height * 0.45,
                            "width": width * 0.9,
                            "align": "center",
                            "style": {
                                "font-family": "Arial Black",
                                "font-size": Math.floor(height * 0.04),
                                "font-weight": "bold",
                                "color": slide.textColor || "#ffffff",
                                "text-shadow": "2px 2px 4px rgba(0,0,0,0.5)"
                            }
                        },
                        // ë¶€ì œëª©
                        {
                            "type": "text",
                            "text": slide.subtitle,
                            "x": "center",
                            "y": height * 0.65,
                            "width": width * 0.85,
                            "align": "center",
                            "style": {
                                "font-family": "Arial",
                                "font-size": Math.floor(height * 0.025),
                                "color": slide.textColor || "rgba(255,255,255,0.9)",
                                "text-shadow": "1px 1px 2px rgba(0,0,0,0.5)"
                            }
                        },
                        // ìŠ¬ë¼ì´ë“œ ë²ˆí˜¸
                        {
                            "type": "text",
                            "text": `${index + 1} / ${slides.length}`,
                            "x": "center",
                            "y": height * 0.9,
                            "align": "center",
                            "style": {
                                "font-family": "Arial",
                                "font-size": Math.floor(height * 0.02),
                                "color": "rgba(255,255,255,0.7)"
                            }
                        }
                    ]
                };

                // ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë“œì—ëŠ” íŠ¸ëœì§€ì…˜ ì—†ìŒ
                if (index === 0) {
                    delete scene.transition;
                }

                json2videoData.scenes.push(scene);
            });

            return json2videoData;
        }

        // JSON ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
        function displayJSONPreview(jsonData) {
            const section = document.getElementById('jsonPreviewSection');
            const preview = document.getElementById('jsonCode');
            const features = document.getElementById('jsonFeatures');
            
            if (!section || !preview || !features) return;
            
            // íŠ¹ì§• ì •ë³´ ì—…ë°ì´íŠ¸
            const slideCount = jsonData.scenes.length;
            const resolution = `${jsonData.resolution.width}Ã—${jsonData.resolution.height}`;
            const totalDuration = (slideCount * parseFloat(document.getElementById('durationInput').value)).toFixed(1);
            
            features.innerHTML = `
                <strong>ğŸ“Š ìƒì„±ëœ JSON2Video íŠ¹ì§•:</strong><br>
                â€¢ ìŠ¬ë¼ì´ë“œ ìˆ˜: ${slideCount}ê°œ<br>
                â€¢ í•´ìƒë„: ${resolution}<br>
                â€¢ ì´ ê¸¸ì´: ${totalDuration}ì´ˆ<br>
                â€¢ íŠ¸ëœì§€ì…˜: ${document.getElementById('transitionSelect').value}<br>
                â€¢ GPT-4 ë§ì¶¤ ìƒì„± ì½˜í…ì¸ 
            `;
            
            // JSON ì½”ë“œ í‘œì‹œ
            preview.textContent = JSON.stringify(jsonData, null, 2);
            
            section.style.display = 'block';
            section.scrollIntoView({ behavior: 'smooth' });
        }

        // í´ë¦½ë³´ë“œì— ë³µì‚¬
        function copyToClipboard() {
            const jsonCode = document.getElementById('jsonCode');
            if (!jsonCode) return;
            
            const text = jsonCode.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const copyBtn = document.querySelector('.copy-btn');
                const originalText = copyBtn.textContent;
                copyBtn.textContent = 'âœ… ë³µì‚¬ë¨!';
                
                setTimeout(() => {
                    copyBtn.textContent = originalText;
                }, 2000);
            }).catch(err => {
                console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
                alert('âŒ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
            });
        }

        // JSON íŒŒì¼ ë‹¤ìš´ë¡œë“œ
        function downloadJSON() {
            if (!generatedJSON) {
                alert('âŒ ìƒì„±ëœ JSONì´ ì—†ìŠµë‹ˆë‹¤!');
                return;
            }
            
            const jsonString = JSON.stringify(generatedJSON, null, 2);
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `json2video-slides-${new Date().getTime()}.json`;
            a.click();
            
            URL.revokeObjectURL(url);
            
            alert('ğŸ“ JSON íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!\n\nJSON2Video í”Œë«í¼ì—ì„œ ì´ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì—¬ ë¹„ë””ì˜¤ë¥¼ ìƒì„±í•˜ì„¸ìš”.');
        }

        // JSONì—ì„œ ë¹„ë””ì˜¤ ìƒì„± (ì‹œë®¬ë ˆì´ì…˜)
        function generateVideoFromJSON() {
            if (!generatedJSON) {
                alert('âŒ ìƒì„±ëœ JSONì´ ì—†ìŠµë‹ˆë‹¤!');
                return;
            }
            
            alert(`ğŸ¬ JSON2Video í”Œë«í¼ ì—°ë™

ë‹¤ìŒ ë‹¨ê³„ë¡œ ë¹„ë””ì˜¤ë¥¼ ìƒì„±í•˜ì„¸ìš”:

1. ğŸ“‹ JSON ì½”ë“œ ë³µì‚¬ (ìœ„ì˜ ë³µì‚¬ ë²„íŠ¼ í´ë¦­)
2. ğŸŒ JSON2Video í”Œë«í¼ ì ‘ì† (json2video.com)
3. ğŸ“¤ JSON ì½”ë“œ ë¶™ì—¬ë„£ê¸°
4. âš™ï¸ ì¶”ê°€ ì„¤ì • (í•„ìš”ì‹œ)
5. ğŸ¬ ë¹„ë””ì˜¤ ë Œë”ë§ ì‹œì‘

JSON2Video í”Œë«í¼ì—ì„œ ê³ í’ˆì§ˆ MP4 ë¹„ë””ì˜¤ê°€ ìƒì„±ë©ë‹ˆë‹¤!`);
            
            // JSON2Video í”Œë«í¼ìœ¼ë¡œ ì´ë™
            window.open('https://json2video.com', '_blank');
        }

        // ë‹¤ìš´ë¡œë“œ ì„¹ì…˜ í‘œì‹œ
        function showDownloadSection() {
            const section = document.getElementById('downloadSection');
            if (section) {
                section.style.display = 'block';
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // í”„ë¡œê·¸ë˜ìŠ¤ ëª¨ë‹¬ ì œì–´
        function showProgressModal(show) {
            const modal = document.getElementById('progressModal');
            if (modal) {
                modal.classList.toggle('show', show);
            }
        }

        // í”„ë¡œê·¸ë˜ìŠ¤ ì—…ë°ì´íŠ¸
        function updateProgress(percent, title, desc) {
            const fill = document.getElementById('progressFill');
            const text = document.getElementById('progressText');
            const titleEl = document.getElementById('progressTitle');
            const descEl = document.getElementById('progressDesc');
            
            if (fill) fill.style.width = `${Math.min(100, percent)}%`;
            if (text) text.textContent = `${Math.round(percent)}%`;
            if (titleEl) titleEl.textContent = title;
            if (descEl) descEl.textContent = desc;
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // ì—ëŸ¬ ì²˜ë¦¬
        window.addEventListener('error', function(event) {
            console.error('ì „ì—­ ì˜¤ë¥˜:', event.error);
        });

        window.addEventListener('unhandledrejection', function(event) {
            console.error('Promise ê±°ë¶€:', event.reason);
            event.preventDefault();
        });
    </script>
</body>
</html>
