<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹¤ì œ AI ìŠ¬ë¼ì´ë“œ ìë™ ìƒì„±ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
        }

        .logo {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .title {
            font-size: 2.8em;
            font-weight: 900;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #00ffff, #ff00ff, #ffff00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientFlow 3s ease-in-out infinite;
        }

        @keyframes gradientFlow {
            0%, 100% { filter: hue-rotate(0deg); }
            50% { filter: hue-rotate(180deg); }
        }

        .subtitle {
            font-size: 1.3em;
            opacity: 0.9;
            color: #e0e0e0;
            margin-bottom: 10px;
        }

        .description {
            font-size: 1.1em;
            opacity: 0.8;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .api-setup {
            background: rgba(255, 0, 0, 0.1);
            border: 2px solid rgba(255, 0, 0, 0.3);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }

        .api-setup.configured {
            background: rgba(0, 255, 0, 0.1);
            border-color: rgba(0, 255, 0, 0.3);
        }

        .api-input {
            width: 100%;
            max-width: 500px;
            padding: 15px;
            margin: 15px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            font-size: 1.1em;
        }

        .api-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .input-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 40px;
            margin: 40px 0;
            transition: all 0.3s ease;
        }

        .input-section:hover {
            border-color: rgba(0, 255, 255, 0.5);
        }

        .input-group {
            margin-bottom: 30px;
        }

        .input-label {
            font-size: 1.3em;
            font-weight: 700;
            color: #00ffff;
            margin-bottom: 10px;
            display: block;
        }

        .input-field {
            width: 100%;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            color: white;
            font-size: 1.1em;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .input-field:focus {
            outline: none;
            border-color: #00ffff;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
        }

        .input-field::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .textarea-field {
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
        }

        .generate-button {
            display: block;
            width: 100%;
            max-width: 500px;
            margin: 50px auto;
            padding: 25px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
            background-size: 300% 300%;
            border: none;
            border-radius: 25px;
            font-size: 1.8em;
            font-weight: 900;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: gradientShift 4s ease infinite;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .generate-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            animation: none;
        }

        .generate-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(0, 255, 255, 0.5);
        }

        .feature-icon {
            font-size: 3.5em;
            margin-bottom: 20px;
        }

        .feature-title {
            font-size: 1.4em;
            font-weight: 700;
            margin-bottom: 10px;
            color: #00ffff;
        }

        .feature-desc {
            font-size: 1em;
            opacity: 0.8;
            line-height: 1.4;
        }

        .status-panel {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.1);
            display: none;
        }

        .status-panel.show {
            display: block;
        }

        .status-title {
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: 15px;
            color: #00ffff;
        }

        .ai-thinking {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }

        .thinking-dots {
            display: flex;
            gap: 5px;
        }

        .thinking-dot {
            width: 12px;
            height: 12px;
            background: #00ffff;
            border-radius: 50%;
            animation: thinking 1.4s ease-in-out infinite both;
        }

        .thinking-dot:nth-child(1) { animation-delay: -0.32s; }
        .thinking-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes thinking {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        .countdown {
            font-size: 4em;
            font-weight: 900;
            margin: 20px 0;
            color: #ff6b6b;
            text-shadow: 0 0 20px rgba(255, 107, 107, 0.8);
            animation: pulse 1s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .progress-container {
            margin: 25px 0;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ffff, #ff00ff);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 6px;
        }

        .progress-text {
            font-size: 1.1em;
            font-weight: 600;
        }

        .recording-status {
            display: none;
            background: rgba(255, 0, 0, 0.2);
            border: 2px solid rgba(255, 0, 0, 0.5);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .recording-status.active {
            display: block;
            animation: recordingPulse 1s ease-in-out infinite;
        }

        @keyframes recordingPulse {
            0%, 100% { border-color: rgba(255, 0, 0, 0.5); }
            50% { border-color: rgba(255, 0, 0, 1); }
        }

        .recording-dot {
            display: inline-block;
            width: 12px;
            height: 12px;
            background: #ff0000;
            border-radius: 50%;
            margin-right: 10px;
            animation: blink 1s ease-in-out infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .preview-section {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 2px solid rgba(255, 255, 255, 0.1);
            display: none;
        }

        .preview-section.show {
            display: block;
        }

        .preview-title {
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: 15px;
            color: #00ffff;
            text-align: center;
        }

        .slide-preview {
            background: #000;
            border-radius: 15px;
            width: 300px;
            height: 533px;
            margin: 0 auto 20px;
            overflow: hidden;
            border: 3px solid #333;
            position: relative;
        }

        .ai-analysis {
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid rgba(0, 255, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .sample-templates {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .template-card {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .template-card:hover {
            border-color: #00ffff;
            transform: translateY(-5px);
        }

        .template-card.selected {
            border-color: #00ffff;
            background: rgba(0, 255, 255, 0.1);
        }

        .template-name {
            font-size: 1.2em;
            font-weight: 700;
            color: #00ffff;
            margin-bottom: 10px;
        }

        .template-desc {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .hidden {
            display: none !important;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .title {
                font-size: 2.2em;
            }

            .generate-button {
                font-size: 1.4em;
                padding: 20px;
            }

            .countdown {
                font-size: 3em;
            }

            .input-section {
                padding: 25px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">ğŸ¤–</div>
            <h1 class="title">ì‹¤ì œ AI ìŠ¬ë¼ì´ë“œ ìƒì„±ê¸°</h1>
            <p class="subtitle">GPT-4 APIë¡œ ì‹¤ì œ AIê°€ ìŠ¬ë¼ì´ë“œë¥¼ ë¶„ì„í•˜ê³  ìë™ ìƒì„±</p>
            <p class="description">
                ì§„ì§œ OpenAI GPT-4 APIë¥¼ ì‚¬ìš©í•´ì„œ ë‹¹ì‹ ì˜ ë‚´ìš©ì„ ì§€ëŠ¥ì ìœ¼ë¡œ ë¶„ì„í•˜ê³ , 
                11ì¥ì˜ ì „ë¬¸ì ì¸ ìŠ¬ë¼ì´ë“œë¥¼ ìë™ ìƒì„±í•˜ì—¬ ì™„ë²½í•œ 27.5ì´ˆ ìœ íŠœë¸Œ ì‡¼ì¸  ì˜ìƒì„ ë§Œë“¤ì–´ë“œë¦½ë‹ˆë‹¤.
            </p>
        </div>

        <!-- GPT API ì„¤ì • -->
        <div class="api-setup" id="apiSetup">
            <h3>ğŸ”‘ OpenAI API í‚¤ ì„¤ì • (í•„ìˆ˜)</h3>
            <p>ì‹¤ì œ GPT-4 AIë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ OpenAI API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>
            <input type="password" class="api-input" id="apiKeyInput" placeholder="sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">
            <br>
            <button onclick="setApiKey()" style="padding: 10px 20px; background: #00ffff; color: #000; border: none; border-radius: 10px; margin: 10px; cursor: pointer;">API í‚¤ ì„¤ì •</button>
            <button onclick="showApiGuide()" style="padding: 10px 20px; background: #ff6b6b; color: white; border: none; border-radius: 10px; margin: 10px; cursor: pointer;">API í‚¤ ë°œê¸‰ ë°©ë²•</button>
            <div id="apiStatus" style="margin-top: 15px; font-weight: bold;"></div>
        </div>

        <!-- ê¸°ëŠ¥ ì†Œê°œ -->
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">ğŸ§ </div>
                <div class="feature-title">ì‹¤ì œ GPT-4 AI ë¶„ì„</div>
                <div class="feature-desc">OpenAIì˜ ìµœì‹  GPT-4 ëª¨ë¸ì´ ë‹¹ì‹ ì˜ ë‚´ìš©ì„ ì§€ëŠ¥ì ìœ¼ë¡œ ë¶„ì„í•˜ê³  ìµœì ì˜ ìŠ¬ë¼ì´ë“œ êµ¬ì¡°ë¥¼ ìƒì„±</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ğŸ¨</div>
                <div class="feature-title">ìŠ¤ë§ˆíŠ¸ ë””ìì¸ ì„ íƒ</div>
                <div class="feature-desc">AIê°€ ë‚´ìš©ì˜ ì„±ê²©ì„ íŒŒì•…í•´ì„œ ê°€ì¥ ì í•©í•œ ìƒ‰ìƒ, ì•„ì´ì½˜, ë ˆì´ì•„ì›ƒì„ ìë™ ì„ íƒ</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ğŸ“Š</div>
                <div class="feature-title">ì§€ëŠ¥ì  ì •ë³´ êµ¬ì¡°í™”</div>
                <div class="feature-desc">ì—°ë½ì²˜, í†µê³„, ê¸°ëŠ¥ ë“±ì„ AIê°€ ìë™ìœ¼ë¡œ ë¶„ë¥˜í•˜ê³  ìµœì ì˜ ìŠ¬ë¼ì´ë“œ ìˆœì„œë¡œ ë°°ì¹˜</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">âš¡</div>
                <div class="feature-title">ì‹¤ì‹œê°„ AI ìƒì„±</div>
                <div class="feature-desc">ì‹œë®¬ë ˆì´ì…˜ì´ ì•„ë‹Œ ì‹¤ì œ GPT API í˜¸ì¶œë¡œ ë§¤ë²ˆ ìƒˆë¡­ê³  ì°½ì˜ì ì¸ ìŠ¬ë¼ì´ë“œ ìƒì„±</div>
            </div>
        </div>

        <!-- í…œí”Œë¦¿ ì„ íƒ -->
        <div class="input-section">
            <h3 style="color: #00ffff; margin-bottom: 20px; font-size: 1.5em;">ğŸ“‹ AI ë¶„ì„ í…œí”Œë¦¿</h3>
            <div class="sample-templates">
                <div class="template-card selected" data-template="business">
                    <div class="template-name">ë¹„ì¦ˆë‹ˆìŠ¤</div>
                    <div class="template-desc">íšŒì‚¬/ì„œë¹„ìŠ¤ ì†Œê°œ, ë§ˆì¼€íŒ…ìš©</div>
                </div>
                <div class="template-card" data-template="education">
                    <div class="template-name">êµìœ¡</div>
                    <div class="template-desc">ê°•ì˜, íŠœí† ë¦¬ì–¼, ì„¤ëª…ìš©</div>
                </div>
                <div class="template-card" data-template="product">
                    <div class="template-name">ì œí’ˆ</div>
                    <div class="template-desc">ì œí’ˆ ì†Œê°œ, ê¸°ëŠ¥ ì„¤ëª…ìš©</div>
                </div>
                <div class="template-card" data-template="personal">
                    <div class="template-name">ê°œì¸</div>
                    <div class="template-desc">ìê¸°ì†Œê°œ, í¬íŠ¸í´ë¦¬ì˜¤ìš©</div>
                </div>
            </div>
        </div>

        <!-- ì…ë ¥ ì„¹ì…˜ -->
        <div class="input-section">
            <div class="input-group">
                <label class="input-label">ğŸ“ ì œëª©</label>
                <input type="text" class="input-field" id="titleInput" placeholder="ì˜ˆ: Sue Reading Club - AI ì˜ì–´êµìœ¡ì˜ í˜ì‹ " maxlength="100">
            </div>

            <div class="input-group">
                <label class="input-label">ğŸ“„ ìƒì„¸ ë‚´ìš© (AIê°€ ë¶„ì„í•  ëª¨ë“  ì •ë³´)</label>
                <textarea class="input-field textarea-field" id="contentInput" placeholder="ì˜ˆ: 
Sue Reading Clubì€ AI ê¸°ë°˜ ì˜ì–´êµìœ¡ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

ì£¼ìš” í”„ë¡œê·¸ë¨:
- AI ë…í•´ ì‹œìŠ¤í…œ: ê°œì¸ë³„ ë§ì¶¤ ë¶„ì„ìœ¼ë¡œ ë…í•´ë ¥ í–¥ìƒ
- ìŠ¤ë§ˆíŠ¸ ì†ë…: ê³¼í•™ì  í›ˆë ¨ë²•ìœ¼ë¡œ ì½ê¸° ì†ë„ 3ë°° í–¥ìƒ  
- AI í† ë¡  í´ë˜ìŠ¤: AIì™€ í•¨ê»˜í•˜ëŠ” ì‹¤ì‹œê°„ í† ë¡  í•™ìŠµ
- ì‹¤ì‹œê°„ í”¼ë“œë°±: ì¦‰ì„ì—ì„œ ì œê³µë˜ëŠ” ì •í™•í•œ í”¼ë“œë°±
- AI ê°œë³„ ë¶„ì„: í•™ìŠµìì˜ ì½ê¸° íŒ¨í„´ ì‹¤ì‹œê°„ ë¶„ì„

ì„±ê³¼:
- 98% í•™ë¶€ëª¨ ë§Œì¡±ë„
- 3.2ë°° ì½ê¸°ì†ë„ í–¥ìƒ

ìœ„ì¹˜: ì¸ì²œ ì—°ìˆ˜êµ¬ ì†¡ë„ë™ í•´ì˜¨ë”ë¼ìš´ì§€ 702í˜¸
ì—°ë½ì²˜: 010-9579-4429
ìƒë‹´ì‹œê°„: í‰ì¼ 09:00-18:00

íŠ¹ë³„ í˜œíƒ: ì²« ë‹¬ 30% í• ì¸"></textarea>
            </div>

            <div class="input-group">
                <label class="input-label">ğŸ¨ ì»¬ëŸ¬ í…Œë§ˆ</label>
                <select class="input-field" id="colorTheme">
                    <option value="blue-purple">íŒŒë‘-ë³´ë¼ (ê¸°ë³¸)</option>
                    <option value="red-orange">ë¹¨ê°•-ì£¼í™©</option>
                    <option value="green-teal">ì´ˆë¡-ì²­ë¡</option>
                    <option value="purple-pink">ë³´ë¼-ë¶„í™</option>
                    <option value="dark-neon">ë‹¤í¬-ë„¤ì˜¨</option>
                    <option value="auto">AIê°€ ìë™ ì„ íƒ</option>
                </select>
            </div>
        </div>

        <button class="generate-button" id="generateButton" onclick="generateAISlides()" disabled>
            ğŸ¤– ì‹¤ì œ AIë¡œ ìŠ¬ë¼ì´ë“œ ìƒì„± ì‹œì‘
        </button>

        <!-- AI ë¶„ì„ ê²°ê³¼ -->
        <div class="ai-analysis hidden" id="aiAnalysis">
            <h4>ğŸ§  AI ë¶„ì„ ê²°ê³¼:</h4>
            <div id="analysisResult"></div>
        </div>

        <!-- ë¯¸ë¦¬ë³´ê¸° ì„¹ì…˜ -->
        <div class="preview-section" id="previewSection">
            <div class="preview-title">ğŸ“± AI ìƒì„± ìŠ¬ë¼ì´ë“œ ë¯¸ë¦¬ë³´ê¸°</div>
            <div class="slide-preview" id="slidePreview">
                <!-- AI ìƒì„±ëœ ìŠ¬ë¼ì´ë“œ ë¯¸ë¦¬ë³´ê¸° -->
            </div>
            <button class="generate-button" onclick="startRecording()" style="max-width: 300px; font-size: 1.2em; padding: 15px;">
                ğŸ¬ ì˜ìƒ ë…¹í™” ì‹œì‘
            </button>
        </div>

        <!-- ìƒíƒœ íŒ¨ë„ -->
        <div class="status-panel" id="statusPanel">
            <div class="status-title" id="statusTitle">ğŸ¤– ì‹¤ì œ AI ë¶„ì„ ì¤‘...</div>
            <div class="ai-thinking" id="aiThinking">
                <div class="thinking-dots">
                    <div class="thinking-dot"></div>
                    <div class="thinking-dot"></div>
                    <div class="thinking-dot"></div>
                </div>
            </div>
            <div class="countdown hidden" id="countdown">5</div>
            <div class="progress-container hidden" id="progressContainer">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">0% ì™„ë£Œ</div>
            </div>
            <div class="recording-status" id="recordingStatus">
                <span class="recording-dot"></span>
                <span>AI ì˜ìƒ ì œì‘ ì¤‘...</span>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let apiKey = '';
        let generatedSlideHTML = null;
        let slideshowWindow = null;
        let mediaRecorder = null;
        let recordedChunks = [];
        let selectedTemplate = 'business';
        let aiAnalysisResult = null;

        // API í‚¤ ì„¤ì •
        function setApiKey() {
            const input = document.getElementById('apiKeyInput');
            const apiSetup = document.getElementById('apiSetup');
            const apiStatus = document.getElementById('apiStatus');
            const generateButton = document.getElementById('generateButton');
            
            apiKey = input.value.trim();
            
            if (apiKey.startsWith('sk-') && apiKey.length > 20) {
                apiSetup.classList.add('configured');
                apiStatus.innerHTML = 'âœ… API í‚¤ê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ ì‹¤ì œ AI ìŠ¬ë¼ì´ë“œ ìƒì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤!';
                apiStatus.style.color = '#00ff00';
                generateButton.disabled = false;
                generateButton.textContent = 'ğŸ¤– ì‹¤ì œ GPT-4 AIë¡œ ìŠ¬ë¼ì´ë“œ ìƒì„± ì‹œì‘';
                
                // API í‚¤ ì €ì¥ (ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€)
                sessionStorage.setItem('openai_api_key', apiKey);
                
                console.log('âœ… OpenAI API í‚¤ ì„¤ì • ì™„ë£Œ');
            } else {
                apiStatus.innerHTML = 'âŒ ì˜¬ë°”ë¥¸ API í‚¤ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤. sk-ë¡œ ì‹œì‘í•˜ëŠ” í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                apiStatus.style.color = '#ff6b6b';
            }
        }

        // API í‚¤ ë°œê¸‰ ë°©ë²• ì•ˆë‚´
        function showApiGuide() {
            alert(`ğŸ”‘ OpenAI API í‚¤ ë°œê¸‰ ë°©ë²•:

1. https://platform.openai.com ì ‘ì†
2. íšŒì›ê°€ì… ë˜ëŠ” ë¡œê·¸ì¸
3. ìš°ìƒë‹¨ í”„ë¡œí•„ â†’ "View API keys" í´ë¦­
4. "Create new secret key" í´ë¦­
5. ìƒì„±ëœ í‚¤ë¥¼ ë³µì‚¬í•´ì„œ ìœ„ì— ì…ë ¥

âš ï¸ ì£¼ì˜ì‚¬í•­:
- API ì‚¬ìš©ë£Œ: GPT-4 ê¸°ì¤€ ìŠ¬ë¼ì´ë“œ 1ê°œë‹¹ ì•½ $0.06
- ìƒˆ ê³„ì •ì—ëŠ” $5 ë¬´ë£Œ í¬ë ˆë”§ ì œê³µ
- API í‚¤ëŠ” ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ì„¸ìš”`);
        }

        // í…œí”Œë¦¿ ì„ íƒ ì´ë²¤íŠ¸
        function initTemplateSelection() {
            document.querySelectorAll('.template-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.template-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedTemplate = this.dataset.template;
                    console.log('ğŸ“‹ í…œí”Œë¦¿ ì„ íƒ:', selectedTemplate);
                });
            });
        }

        // ì‹¤ì œ GPT API í˜¸ì¶œ
        async function callGPTAPI(prompt) {
            try {
                console.log('ğŸ¤– GPT-4 API í˜¸ì¶œ ì‹œì‘...');
                
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: "gpt-4",
                        messages: [{
                            role: "system",
                            content: `ë‹¹ì‹ ì€ ì „ë¬¸ì ì¸ ìŠ¬ë¼ì´ë“œ êµ¬ì¡° ìƒì„± AIì…ë‹ˆë‹¤. ì£¼ì–´ì§„ ë‚´ìš©ì„ ë¶„ì„í•´ì„œ 11ì¥ì˜ ìœ íŠœë¸Œ ì‡¼ì¸ ìš© ìŠ¬ë¼ì´ë“œ êµ¬ì¡°ë¥¼ JSON í˜•íƒœë¡œ ìƒì„±í•´ì£¼ì„¸ìš”.

ê° ìŠ¬ë¼ì´ë“œëŠ” ë‹¤ìŒ í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤:
{
  "slideNumber": 1,
  "type": "intro|brand|feature|stats|testimonial|location|contact",
  "title": "ìŠ¬ë¼ì´ë“œ ì œëª© (25ì ì´ë‚´)",
  "subtitle": "ë¶€ì œëª© ë˜ëŠ” ì„¤ëª… (50ì ì´ë‚´)",
  "icon": "ì ì ˆí•œ ì´ëª¨ì§€ 1ê°œ",
  "background": "gradient1-11 ì¤‘ í•˜ë‚˜",
  "animation": "pulse|bounce|fade|glow ì¤‘ í•˜ë‚˜"
}

íŠ¹ë³„ ì§€ì‹œì‚¬í•­:
1. ë°˜ë“œì‹œ 11ì¥ì˜ ìŠ¬ë¼ì´ë“œ ìƒì„±
2. ì²« ë²ˆì§¸ëŠ” ì¸íŠ¸ë¡œ, ë§ˆì§€ë§‰ì€ ì—°ë½ì²˜
3. ì¤‘ê°„ì— ê¸°ëŠ¥, ì¥ì , í†µê³„ ë“± ë°°ì¹˜
4. ì—°ë½ì²˜/ìœ„ì¹˜ ì •ë³´ê°€ ìˆìœ¼ë©´ ë³„ë„ ìŠ¬ë¼ì´ë“œë¡œ
5. JSON í˜•íƒœë¡œë§Œ ì‘ë‹µ (ë‹¤ë¥¸ í…ìŠ¤íŠ¸ ì—†ì´)`
                        }, {
                            role: "user", 
                            content: prompt
                        }]
                    })
                });

                if (!response.ok) {
                    throw new Error(`API í˜¸ì¶œ ì‹¤íŒ¨: ${response.status} ${response.statusText}`);
                }

                const data = await response.json();
                console.log('âœ… GPT-4 API ì‘ë‹µ ìˆ˜ì‹ ');
                
                return data.choices[0].message.content;
                
            } catch (error) {
                console.error('âŒ GPT API í˜¸ì¶œ ì˜¤ë¥˜:', error);
                throw error;
            }
        }

        // AI ìŠ¬ë¼ì´ë“œ ìƒì„± ë©”ì¸ í•¨ìˆ˜
        async function generateAISlides() {
            const title = document.getElementById('titleInput').value.trim();
            const content = document.getElementById('contentInput').value.trim();
            const colorTheme = document.getElementById('colorTheme').value;

            if (!apiKey) {
                alert('ë¨¼ì € OpenAI API í‚¤ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”!');
                return;
            }

            if (!title || !content) {
                alert('ì œëª©ê³¼ ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            const statusPanel = document.getElementById('statusPanel');
            const statusTitle = document.getElementById('statusTitle');
            const generateButton = document.getElementById('generateButton');
            const aiThinking = document.getElementById('aiThinking');
            const aiAnalysis = document.getElementById('aiAnalysis');
            const analysisResult = document.getElementById('analysisResult');

            generateButton.disabled = true;
            statusPanel.classList.add('show');
            aiThinking.style.display = 'flex';

            try {
                // 1. GPT APIë¡œ ë‚´ìš© ë¶„ì„
                statusTitle.textContent = 'ğŸ§  GPT-4ê°€ ë‹¹ì‹ ì˜ ë‚´ìš©ì„ ì§€ëŠ¥ì ìœ¼ë¡œ ë¶„ì„ ì¤‘...';
                
                const prompt = `í…œí”Œë¦¿: ${selectedTemplate}
ì œëª©: ${title}
ë‚´ìš©: ${content}
ì»¬ëŸ¬í…Œë§ˆ: ${colorTheme}

ìœ„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ 11ì¥ì˜ ìœ íŠœë¸Œ ì‡¼ì¸ ìš© ìŠ¬ë¼ì´ë“œ êµ¬ì¡°ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.`;

                const gptResponse = await callGPTAPI(prompt);
                
                // 2. AI ì‘ë‹µ íŒŒì‹±
                statusTitle.textContent = 'ğŸ¨ AIê°€ ìƒì„±í•œ êµ¬ì¡°ë¥¼ ìŠ¬ë¼ì´ë“œë¡œ ë³€í™˜ ì¤‘...';
                
                let slideStructure;
                try {
                    // JSON íŒŒì‹±
                    const cleanResponse = gptResponse.replace(/```json|```/g, '').trim();
                    slideStructure = JSON.parse(cleanResponse);
                } catch (parseError) {
                    console.warn('JSON íŒŒì‹± ì‹¤íŒ¨, ë°±ì—… êµ¬ì¡° ì‚¬ìš©');
                    slideStructure = createBackupStructure(title, content);
                }

                // 3. AI ë¶„ì„ ê²°ê³¼ í‘œì‹œ
                aiAnalysisResult = slideStructure;
                aiAnalysis.classList.remove('hidden');
                analysisResult.innerHTML = `
                    <strong>ğŸ“Š AIê°€ ë¶„ì„í•œ ë‚´ìš© êµ¬ì¡°:</strong><br>
                    â€¢ ì´ ${slideStructure.length}ì¥ì˜ ìŠ¬ë¼ì´ë“œ ìƒì„±<br>
                    â€¢ í…œí”Œë¦¿: ${selectedTemplate}<br>
                    â€¢ ì»¬ëŸ¬ í…Œë§ˆ: ${colorTheme}<br>
                    â€¢ íŠ¹ë³„ ìš”ì†Œ: ${slideStructure.filter(s => s.type === 'stats').length}ê°œ í†µê³„, ${slideStructure.filter(s => s.type === 'contact').length}ê°œ ì—°ë½ì²˜<br>
                    â€¢ AI ì¶”ì²œ ì• ë‹ˆë©”ì´ì…˜: ${[...new Set(slideStructure.map(s => s.animation))].join(', ')}
                `;

                // 4. HTML ìƒì„±
                statusTitle.textContent = 'ğŸ¬ ìœ íŠœë¸Œ ì‡¼ì¸  ìµœì í™” ì˜ìƒ ìƒì„± ì¤‘...';
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                generatedSlideHTML = createAdvancedSlideHTML(slideStructure, colorTheme);
                
                // 5. ì™„ë£Œ
                aiThinking.style.display = 'none';
                statusTitle.textContent = 'âœ… ì‹¤ì œ AI ìŠ¬ë¼ì´ë“œ ìƒì„± ì™„ë£Œ!';
                statusPanel.classList.remove('show');
                
                // 6. ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
                showAIPreview();
                generateButton.disabled = false;
                
                console.log('ğŸŠ AI ìŠ¬ë¼ì´ë“œ ìƒì„± ì™„ë£Œ!');
                
            } catch (error) {
                console.error('âŒ AI ìƒì„± ì˜¤ë¥˜:', error);
                aiThinking.style.display = 'none';
                statusTitle.textContent = `âŒ ì˜¤ë¥˜: ${error.message}`;
                
                // API í‚¤ ì˜¤ë¥˜ì¸ ê²½ìš° ì•ˆë‚´
                if (error.message.includes('401') || error.message.includes('API')) {
                    statusTitle.innerHTML = 'âŒ API í‚¤ ì˜¤ë¥˜: OpenAI API í‚¤ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.<br><small>í¬ë ˆë”§ì´ ë¶€ì¡±í•˜ê±°ë‚˜ ì˜ëª»ëœ í‚¤ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</small>';
                }
                
                setTimeout(() => {
                    statusPanel.classList.remove('show');
                    generateButton.disabled = false;
                }, 5000);
            }
        }

        // ë°±ì—… êµ¬ì¡° ìƒì„± (API ì‹¤íŒ¨ ì‹œ)
        function createBackupStructure(title, content) {
            const lines = content.split('\n').filter(line => line.trim());
            const features = lines.filter(line => line.includes('-') || line.includes(':')).slice(0, 6);
            
            return [
                { slideNumber: 1, type: "intro", title: title, subtitle: "í˜ì‹ ì ì¸ ì†”ë£¨ì…˜", icon: "ğŸš€", background: "gradient1", animation: "glow" },
                { slideNumber: 2, type: "brand", title: title.split('-')[0] || title, subtitle: "ë¸Œëœë“œ ì†Œê°œ", icon: "â­", background: "gradient2", animation: "bounce" },
                ...features.map((feature, i) => ({
                    slideNumber: i + 3,
                    type: "feature", 
                    title: feature.split(':')[0].replace('-', '').trim(),
                    subtitle: feature.split(':')[1]?.trim() || '',
                    icon: getSmartIcon(feature, i),
                    background: `gradient${(i % 9) + 3}`,
                    animation: ['pulse', 'bounce', 'fade', 'glow'][i % 4]
                })),
                { slideNumber: 11, type: "contact", title: "ì—°ë½ì²˜", subtitle: "ìƒë‹´ ë¬¸ì˜", icon: "ğŸ“", background: "gradient11", animation: "bounce" }
            ].slice(0, 11);
        }

        // ìŠ¤ë§ˆíŠ¸ ì•„ì´ì½˜ ì„ íƒ
        function getSmartIcon(text, index) {
            const icons = ['ğŸ§ ', 'ğŸ¯', 'ğŸ’¬', 'ğŸ¤–', 'âš¡', 'ğŸ’', 'ğŸ”¥', 'âœ¨', 'ğŸŠ', 'ğŸ†'];
            
            if (text.includes('AI') || text.includes('ì¸ê³µì§€ëŠ¥')) return 'ğŸ¤–';
            if (text.includes('ì†ë…') || text.includes('ë¹ ë¥¸')) return 'ğŸ¯';
            if (text.includes('í† ë¡ ') || text.includes('ëŒ€í™”')) return 'ğŸ’¬';
            if (text.includes('í”¼ë“œë°±') || text.includes('ì¦‰ì„')) return 'âš¡';
            if (text.includes('ë¶„ì„') || text.includes('ë…í•´')) return 'ğŸ§ ';
            
            return icons[index % icons.length];
        }

        // ê³ ê¸‰ ìŠ¬ë¼ì´ë“œ HTML ìƒì„±
        function createAdvancedSlideHTML(slides, colorTheme) {
            const colors = getColorTheme(colorTheme);
            const backgrounds = getBackgroundStyles(colors);
            
            let slidesHTML = '';
            
            slides.forEach((slide, index) => {
                const isActive = index === 0 ? 'active' : '';
                const bgStyle = backgrounds[slide.background] || backgrounds.gradient1;
                
                slidesHTML += `
                <div class="slide ${isActive}" data-slide="${index}" style="${bgStyle}">
                    <div class="slide-content">
                        <div class="big-icon" style="animation: ${slide.animation} 2s infinite;">${slide.icon}</div>
                        <div class="slide-title" style="color: ${colors.accent};">${slide.title}</div>
                        <div class="slide-desc">${slide.subtitle}</div>
                    </div>
                    <div class="slide-indicator">${slide.slideNumber}/11</div>
                </div>`;
            });

            return `
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Generated Slides</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #000; overflow: hidden; font-family: Arial; height: 100vh; display: flex; justify-content: center; align-items: center; }
        .container { width: 405px; height: 720px; background: #000; border-radius: 25px; position: relative; overflow: hidden; border: 3px solid #333; }
        .slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: all 0.8s ease; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 40px 25px; color: white; }
        .slide.active { opacity: 1; }
        .slide-content { width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; }
        .slide-title { font-size: 2.2em; font-weight: 900; margin-bottom: 20px; line-height: 1.1; text-shadow: 0 0 25px rgba(255,255,255,0.8); }
        .slide-desc { font-size: 1.1em; line-height: 1.4; opacity: 0.95; }
        .big-icon { font-size: 4em; margin-bottom: 25px; filter: drop-shadow(0 0 15px rgba(255,255,255,0.6)); }
        .slide-indicator { position: absolute; top: 20px; right: 20px; font-size: 0.9em; background: rgba(0,0,0,0.7); padding: 8px 15px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.2); }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-15px); } 60% { transform: translateY(-8px); } }
        @keyframes fade { 0%, 100% { opacity: 0.8; } 50% { opacity: 1; } }
        @keyframes glow { 0%, 100% { text-shadow: 0 0 20px rgba(255,255,255,0.8); } 50% { text-shadow: 0 0 35px rgba(0,255,255,0.9); } }
    </style>
</head>
<body>
    <div class="container">
        ${slidesHTML}
    </div>
    <script>
        let current = 0;
        const total = ${slides.length};
        
        function next() {
            document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
            current = (current + 1) % total;
            if (document.querySelectorAll('.slide')[current]) {
                document.querySelectorAll('.slide')[current].classList.add('active');
            }
            if (current === 0) return false;
            return true;
        }
        
        function start() {
            document.querySelectorAll('.slide')[0].classList.add('active');
            const interval = setInterval(() => {
                if (!next()) clearInterval(interval);
            }, 2500);
        }
        
        setTimeout(start, 1000);
        console.log('ğŸ¤– ì‹¤ì œ AI ìƒì„± ìŠ¬ë¼ì´ë“œì‡¼ ì‹œì‘!');
    </script>
</body>
</html>`;
        }

        // ì»¬ëŸ¬ í…Œë§ˆ ê°€ì ¸ì˜¤ê¸°
        function getColorTheme(theme) {
            const themes = {
                'blue-purple': { primary: '#667eea', secondary: '#764ba2', accent: '#00ffff' },
                'red-orange': { primary: '#ff6b6b', secondary: '#ff8e53', accent: '#ffff00' },
                'green-teal': { primary: '#11998e', secondary: '#38ef7d', accent: '#00ff00' },
                'purple-pink': { primary: '#a8edea', secondary: '#fed6e3', accent: '#ff00ff' },
                'dark-neon': { primary: '#0f0f0f', secondary: '#1a1a1a', accent: '#00ffff' },
                'auto': { primary: '#667eea', secondary: '#764ba2', accent: '#00ffff' }
            };
            return themes[theme] || themes['blue-purple'];
        }

        // ë°°ê²½ ìŠ¤íƒ€ì¼ ê°€ì ¸ì˜¤ê¸°
        function getBackgroundStyles(colors) {
            return {
                gradient1: `background: linear-gradient(135deg, ${colors.primary} 0%, ${colors.secondary} 100%);`,
                gradient2: `background: radial-gradient(circle, #000428 0%, #004e92 100%);`,
                gradient3: `background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%);`,
                gradient4: `background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);`,
                gradient5: `background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);`,
                gradient6: `background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);`,
                gradient7: `background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);`,
                gradient8: `background: linear-gradient(135deg, #0f0f0f 0%, #2d1b69 50%, #11998e 100%);`,
                gradient9: `background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);`,
                gradient10: `background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);`,
                gradient11: `background: linear-gradient(135deg, ${colors.primary} 0%, ${colors.secondary} 100%);`
            };
        }

        // AI ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
        function showAIPreview() {
            const previewSection = document.getElementById('previewSection');
            const slidePreview = document.getElementById('slidePreview');
            
            slidePreview.innerHTML = `
                <div style="display: flex; justify-content: center; align-items: center; height: 100%; color: white; text-align: center; flex-direction: column;">
                    <div style="font-size: 3em; margin-bottom: 20px;">ğŸ¤–</div>
                    <div style="font-size: 1.2em; margin-bottom: 10px;">ì‹¤ì œ AI ìŠ¬ë¼ì´ë“œ ìƒì„± ì™„ë£Œ!</div>
                    <div style="font-size: 0.9em; opacity: 0.8;">GPT-4ê°€ ë¶„ì„í•œ 11ì¥ì˜ ì „ë¬¸ ìŠ¬ë¼ì´ë“œ</div>
                    <div style="font-size: 0.8em; opacity: 0.6; margin-top: 10px;">ì´ ${aiAnalysisResult?.length || 11}ì¥ ìƒì„±ë¨</div>
                </div>
            `;
            
            previewSection.classList.add('show');
        }

        // ë…¹í™” ì‹œì‘ (ê¸°ì¡´ ì½”ë“œì™€ ë™ì¼)
        async function startRecording() {
            if (!generatedSlideHTML) {
                alert('ë¨¼ì € AI ìŠ¬ë¼ì´ë“œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”!');
                return;
            }

            try {
                const statusPanel = document.getElementById('statusPanel');
                const statusTitle = document.getElementById('statusTitle');
                const countdown = document.getElementById('countdown');
                const progressContainer = document.getElementById('progressContainer');
                const recordingStatus = document.getElementById('recordingStatus');

                statusPanel.classList.add('show');
                statusTitle.textContent = 'ğŸ¬ AI ìƒì„± ìŠ¬ë¼ì´ë“œì‡¼ ì°½ ì—´ê¸°...';

                // ìŠ¬ë¼ì´ë“œì‡¼ ì°½ ì—´ê¸°
                const blob = new Blob([generatedSlideHTML], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                slideshowWindow = window.open(url, 'slideshow', 'width=450,height=800');

                if (!slideshowWindow) {
                    throw new Error('íŒì—…ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤. íŒì—…ì„ í—ˆìš©í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                }

                await new Promise(resolve => setTimeout(resolve, 2000));

                // í™”ë©´ ê³µìœ  ìš”ì²­
                statusTitle.textContent = 'ğŸ–¥ï¸ í™”ë©´ ê³µìœ  ê¶Œí•œ ìš”ì²­';
                const stream = await navigator.mediaDevices.getDisplayMedia({
                    video: { width: { ideal: 405 }, height: { ideal: 720 } }
                });

                // MediaRecorder ì„¤ì •
                recordedChunks = [];
                mediaRecorder = new MediaRecorder(stream);
                
                mediaRecorder.ondataavailable = (event) => {
                    if (event.data.size > 0) recordedChunks.push(event.data);
                };

                mediaRecorder.onstop = () => {
                    const blob = new Blob(recordedChunks, { type: 'video/webm' });
                    downloadVideo(blob);
                    stream.getTracks().forEach(track => track.stop());
                    if (slideshowWindow) slideshowWindow.close();
                };

                // ì¹´ìš´íŠ¸ë‹¤ìš´
                statusTitle.textContent = 'ğŸ¬ AI ì˜ìƒ ë…¹í™” ì‹œì‘ ì¤€ë¹„';
                countdown.classList.remove('hidden');
                
                let count = 5;
                countdown.textContent = count;
                
                const countInterval = setInterval(() => {
                    count--;
                    if (count > 0) {
                        countdown.textContent = count;
                    } else {
                        countdown.textContent = 'ì‹œì‘!';
                        clearInterval(countInterval);
                        
                        setTimeout(() => {
                            countdown.classList.add('hidden');
                            
                            // ë…¹í™” ì‹œì‘
                            mediaRecorder.start();
                            statusTitle.textContent = 'ğŸ”´ AI ìƒì„± ì˜ìƒ ì œì‘ ì¤‘...';
                            recordingStatus.classList.add('active');
                            progressContainer.classList.remove('hidden');
                            
                            // ì§„í–‰ë¥  í‘œì‹œ
                            let progress = 0;
                            const duration = 27500;
                            const progressFill = document.getElementById('progressFill');
                            const progressText = document.getElementById('progressText');
                            
                            const progressInterval = setInterval(() => {
                                progress += 100;
                                const percentage = Math.min((progress / duration) * 100, 100);
                                progressFill.style.width = percentage + '%';
                                progressText.textContent = Math.round(percentage) + '% ì™„ë£Œ';
                                
                                if (progress >= duration) {
                                    clearInterval(progressInterval);
                                    mediaRecorder.stop();
                                    recordingStatus.classList.remove('active');
                                    statusTitle.textContent = 'âœ… AI ì˜ìƒ ì œì‘ ì™„ë£Œ!';
                                }
                            }, 100);
                            
                        }, 1000);
                    }
                }, 1000);

            } catch (error) {
                document.getElementById('statusTitle').textContent = 'âŒ ì˜¤ë¥˜: ' + error.message;
                if (slideshowWindow) slideshowWindow.close();
            }
        }

        // ì˜ìƒ ë‹¤ìš´ë¡œë“œ
        function downloadVideo(blob) {
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            const now = new Date();
            const title = document.getElementById('titleInput').value.replace(/[^a-zA-Z0-9ê°€-í£]/g, '_');
            const filename = `AI_Generated_${title}_${now.getFullYear()}${(now.getMonth()+1).toString().padStart(2,'0')}${now.getDate().toString().padStart(2,'0')}.webm`;
            
            a.href = url;
            a.download = filename;
            a.click();
            
            console.log('ğŸ¤– AI ìƒì„± ì˜ìƒ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ:', filename);
            
            setTimeout(() => {
                document.getElementById('statusPanel').classList.remove('show');
            }, 3000);
        }

        // ì´ˆê¸°í™”
        function init() {
            try {
                // ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ê²€ì‚¬
                if (!navigator.mediaDevices || !navigator.mediaDevices.getDisplayMedia) {
                    document.getElementById('generateButton').textContent = 'âš ï¸ ë¸Œë¼ìš°ì €ê°€ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ (Chrome ê¶Œì¥)';
                    document.getElementById('generateButton').disabled = true;
                    return;
                }

                // í…œí”Œë¦¿ ì„ íƒ ì´ë²¤íŠ¸ ë“±ë¡
                initTemplateSelection();
                
                // ì €ì¥ëœ API í‚¤ ë³µì›
                const savedApiKey = sessionStorage.getItem('openai_api_key');
                if (savedApiKey) {
                    document.getElementById('apiKeyInput').value = savedApiKey;
                    setApiKey();
                }
                
                console.log('ğŸ¤– ì‹¤ì œ AI ìŠ¬ë¼ì´ë“œ ìƒì„±ê¸° ë¡œë“œ ì™„ë£Œ!');
                console.log('ğŸ§  OpenAI GPT-4 API ì—°ë™ ì¤€ë¹„');
                console.log('âœ¨ ì‹¤ì œ AIê°€ ë¶„ì„í•˜ê³  ìƒì„±í•˜ëŠ” ìŠ¬ë¼ì´ë“œ');
                
            } catch (error) {
                console.error('ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
            }
        }

        // DOM ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
